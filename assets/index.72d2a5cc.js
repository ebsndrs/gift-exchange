var e=Object.assign;import{r as t,C as a,a as l}from"./vendor.22058a31.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,n)=>{const o=new URL(e,l);if(self[t].moduleMap[o])return a(self[t].moduleMap[o]);const s=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){n(new Error(`Failed to import: ${e}`)),r(i)},onload(){a(self[t].moduleMap[o]),r(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/gift-exchange/assets/");function r(a){const[l,r]=t.useState(!1),[n,o]=t.useState(a.person),[s,i]=t.useState(!0);t.useEffect((()=>{if(l){const e=document.getElementById("edit-name");null==e||e.focus(),null==e||e.setSelectionRange(e.value.length,e.value.length)}}),[l]),t.useEffect((()=>{const e=""===n.name.trim()||n.name===a.person.name&&n.household===a.person.household||n.name.trim()!==a.person.name&&a.people.some((e=>e.name===n.name.trim()));i(e)}),[n,a.person,a.people]);const m=()=>{a.editPerson(a.person.name,n),r(!1),a.onIsEditFormToggled(!1)},d=e=>{13!==e.charCode||s||(e.preventDefault(),m())};return l?t.createElement("tr",{className:"bg-white"},t.createElement("td",{className:"px-6 py-2 whitespace-no-wrap text-sm leading-5 font-medium text-gray-900"},t.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),t.createElement("div",{className:"relative rounded-md shadow-sm"},t.createElement("input",{type:"text",id:"edit-name",value:n.name,onChange:t=>{return a=t,void o(e(e({},n),{name:a.target.value}));var a},onKeyPress:e=>d(e),className:"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",placeholder:"Name"}))),t.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-500"},t.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),t.createElement("div",{className:"relative rounded-md shadow-sm"},t.createElement("input",{type:"text",value:n.household,onChange:t=>{return a=t,void o(e(e({},n),{household:a.target.value}));var a},onKeyPress:e=>d(e),id:"edit-household",list:"households",className:"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",placeholder:"Household"}),t.createElement("datalist",{id:"households"},a.households.map((e=>t.createElement("option",{key:e,value:e})))))),t.createElement("td",null,t.createElement("div",{className:"flex-shrink-0 text-right"},t.createElement("span",{className:"relative z-0 inline-flex shadow-sm"},t.createElement("button",{onClick:()=>{o(a.person),r(!1),a.onIsEditFormToggled(!1)},title:"Cancel",type:"button",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))),t.createElement("button",{onClick:m,disabled:s,title:"Submit",type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))))))):t.createElement("tr",{className:"bg-white"},t.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 font-medium text-gray-900"},a.person.name),t.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-500"},a.person.household),t.createElement("td",null,t.createElement("div",{className:"flex-shrink-0 text-right"},t.createElement("span",{className:"relative z-0 inline-flex shadow-sm"},t.createElement("button",{id:"edit-person-button",onClick:()=>{r(!0),a.onIsEditFormToggled(!0)},disabled:a.isOtherEditFormActive,title:"Edit",type:"button",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}))),t.createElement("button",{id:"remove-person-button",onClick:()=>a.removePerson(a.person.name),disabled:a.isOtherEditFormActive,title:"Remove",type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})))))))}function n(a){const l=[...new Set(a.people.map((e=>e.household)))],[n,o]=t.useState({name:"",household:""}),[s,i]=t.useState(!0),[m,d]=t.useState(!0),[c,u]=t.useState(!1);t.useEffect((()=>{const e=n.name.trim(),t=n.household.trim(),l=""===e||a.people.some((t=>t.name===e))||a.people.length+1>170||c,r=""===e&&""===t||c;i(l),d(r)}),[n,a.people,c]);const g=e=>{var t;13!==e.charCode||s||(e.preventDefault(),h(),null==(t=document.getElementById("name"))||t.focus())},h=()=>{a.addPerson(n),o({name:"",household:""})},p=e=>{u(e)};return t.createElement("div",{className:"my-4 sm:my-0 bg-white overflow-hidden shadow rounded-lg"},t.createElement("div",{className:"border-b border-gray-200 px-4 py-5 sm:px-6"},t.createElement("div",{className:"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-no-wrap"},t.createElement("div",{className:"ml-4 mt-2"},t.createElement("h1",{className:"text-lg leading-6 font-medium text-gray-900"},"Participants")),t.createElement("div",{className:"ml-4 mt-2 flex-shrink-0"},t.createElement("span",{className:"relative z-0 inline-flex shadow-sm"},t.createElement("button",{onClick:a.clearPeople,disabled:0===a.people.length||c,title:"Clear",type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))))))),t.createElement("div",{className:"px-4 py-5 sm:p-6"},t.createElement("div",{className:"grid grid-cols-1 row-gap-6 col-gap-4 sm:grid-cols-5"},t.createElement("div",{className:"sm:col-span-2"},t.createElement("label",{htmlFor:"name",className:"sr-only"},"Name"),t.createElement("div",{className:"mt-1 relative rounded-md shadow-sm"},t.createElement("input",{type:"text",value:n.name,onChange:t=>{return a=t,void o(e(e({},n),{name:a.target.value}));var a},onKeyPress:e=>g(e),id:"name",className:"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",placeholder:"Name"}))),t.createElement("div",{className:"sm:col-span-2"},t.createElement("label",{htmlFor:"household",className:"sr-only"},"Household"),t.createElement("div",{className:"mt-1 relative rounded-md shadow-sm"},t.createElement("input",{type:"text",value:n.household,onChange:t=>{return a=t,void o(e(e({},n),{household:a.target.value}));var a},onKeyPress:e=>g(e),id:"household",list:"households",className:"max-w-lg block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:max-w-xs sm:text-sm border-gray-300 rounded-md",placeholder:"Household"}),t.createElement("datalist",{id:"households"},l.map((e=>t.createElement("option",{key:e,value:e})))))),t.createElement("div",{className:"sm: col-span-1 text-left sm:text-right"},t.createElement("span",{className:"relative z-0 inline-flex shadow-sm mt-1"},t.createElement("button",{onClick:()=>{o({name:"",household:""})},disabled:m,title:"Clear",type:"button",className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))),t.createElement("button",{onClick:h,disabled:s,title:"Add",type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})))))),t.createElement("div",{className:"mt-6 flex flex-col"},t.createElement("div",{className:"-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},a.people.length>0?t.createElement("div",{className:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},t.createElement("table",{className:"min-w-full"},t.createElement("thead",null,t.createElement("tr",null,t.createElement("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Name"),t.createElement("th",{className:"pl-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Household"),t.createElement("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50"}))),t.createElement("tbody",null,a.people.map((e=>t.createElement(r,{key:e.name,person:e,people:a.people,households:l,isOtherEditFormActive:c,removePerson:a.removePerson,editPerson:a.editPerson,onIsEditFormToggled:p})))))):t.createElement("div",{className:"py-6 text-center"},"Once you start adding participants, they'll appear here.")))))}function o(e){return t.createElement("div",{className:"flex justify-between py-1"},t.createElement("label",{htmlFor:"prevent-same-household-toggle",className:"text-sm"},e.display),t.createElement("span",{id:"prevent-same-household-toggle",role:"checkbox",onClick:()=>e.toggle(e.index),tabIndex:0,"aria-checked":e.toggled,className:(e.toggled?"bg-indigo-600":"bg-gray-200")+" ml-10 relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline"},t.createElement("span",{"aria-hidden":"true",className:(e.toggled?"translate-x-5":"translate-x-0")+" inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200"})))}function s(e,t){let a;e=Math.floor(e);do{a=Math.floor(Math.random()*e)}while(t.includes(a));return a}function i(e){return e<0?-1:0===e?1:e*i(e-1)}function m(e,t){if(e.length!==t.length)return!1;e.sort(((e,t)=>e.giver.name.localeCompare(t.giver.name))),t.sort(((e,t)=>e.giver.name.localeCompare(t.giver.name)));for(let a=0;a<e.length;a++)if(e[a].receiver.name!==t[a].receiver.name)return!1;return!0}function d(e,t,a){const l=function(e,t){const a=[...t];let l=t.length,r=[],n=i(l);if(e>=0&&e<n)for(r=[];l>0;l--){n/=l;const t=Math.floor(e/n);r.push(a.splice(t,1)[0]),e%=n}return r}(e,t),r=u(l,a);let n=[];return g(r,t.length,t.length)===t.length&&(n=function(e,t){const a=[];for(let l=0;l<e.length;l++){const r=e[l];for(let n=0;n<e.length;n++){const o=e[n];if(t[l][n]>0&&t[n][l]>0){a.push({giver:r,receiver:o}),t[l][n]=0,t[n][l]=0;for(let e=0;e<t[l].length;e++)t[l][e]=0,t[e][l]=0}}}if(a.length<e.length){const t=e[e.length-1],l=e[0];a.push({giver:t,receiver:l})}return a}(l,r)),n}function c(e,t,a){let l=!0;if(e.length!==t)l=!1;else for(let r=0;r<e.length;r++){const t=e[r];if(t.giver.name===t.receiver.name){l=!1;break}if(e.filter((e=>e.giver.name===t.giver.name)).length>1){l=!1;break}if(e.filter((e=>e.receiver.name===t.receiver.name)).length>1){l=!1;break}if(a.preventSameHousehold&&(""!==t.giver.household||""!==t.receiver.household)&&t.giver.household===t.receiver.household){l=!1;break}}return l}function u(e,t){const a=[];if(0===e.length)return a;for(let l=0;l<e.length;l++){a.push([]);for(let t=0;t<e.length;t++)a[l].push(0)}for(let l=0;l<e.length;l++){const r=e[l];for(let n=0;n<e.length;n++){const o=e[n];let s=!0;r.name===o.name&&(s=!1),t.preventSameHousehold&&(""===r.household&&""===o.household||r.household===o.household&&(s=!1)),s&&(a[l][n]++,a[n][l]++)}}return a}function g(e,t,a){const l=Array(a);for(let n=0;n<a;++n)l[n]=-1;let r=0;for(let n=0;n<t;n++){const o=Array(a);for(let e=0;e<a;++e)o[e]=!1;h(t,a,e,n,o,l)&&r++}return r}function h(e,t,a,l,r,n){for(let o=0;o<t;o++)if(a[l][o]>0&&!r[o]&&(r[o]=!0,n[o]<0||h(e,t,a,n[o],r,n)))return n[o]=l,!0;return!1}function p(){return t.createElement("div",{className:"loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-8 w-8"})}function f(e){const l=e.enter.split(" "),r=e.enterFrom.split(" "),n=e.enterTo.split(" "),o=e.leave.split(" "),s=e.leaveFrom.split(" "),i=e.leaveTo.split(" ");return t.createElement(a,{unmountOnExit:!0,in:e.show,addEndListener:(e,t)=>{e.addEventListener("transitionend",t,!1)},onEnter:e=>{e.classList.add(...l,...r)},onEntering:e=>{e.classList.remove(...r),e.classList.add(...n)},onEntered:e=>{e.classList.remove(...n,...l)},onExit:e=>{e.classList.add(...o,...s)},onExiting:e=>{e.classList.remove(...s),e.classList.add(...i)},onExited:e=>{e.classList.remove(...i,...o)}},e.children)}function v(e){const[a,l]=t.useState(!1);return t.createElement("div",{className:"my-4 sm:my-0 bg-white overflow-hidden shadow rounded-lg"},t.createElement("a",{className:"sr-only",id:"csv-download",href:`data:text/csv;charset=utf-8,${encodeURI((()=>{let t="Giver,Receiver\n";return e.matches.forEach((e=>{const a=e.giver.name.replace(",","\\,"),l=e.receiver.name.replace(",","\\,");t+=`${a},${l}\n`})),t})())}`,download:"gift_exchange.csv",target:"_blank",rel:"noopener noreferrer"},"Download Matches as CSV"),t.createElement("div",{className:"border-b border-gray-200 px-4 py-5 sm:px-6"},t.createElement("div",{className:"-ml-4 -mt-2 flex items-center justify-between flex-wrap sm:flex-no-wrap"},t.createElement("div",{className:"ml-4 mt-2"},t.createElement("h1",{className:"text-lg leading-6 font-medium text-gray-900"},"Results")),t.createElement("div",{className:"ml-4 mt-2 flex-shrink-0"},t.createElement("span",{className:"relative z-10 inline-flex shadow-sm"},t.createElement("button",{onClick:e.refreshMatches,disabled:!e.areMatchesValid,title:"Refresh matches",type:"button",className:"-ml-px relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))),t.createElement("span",{className:"-ml-px relative block"},t.createElement("button",{onClick:()=>l(!a),disabled:!e.areMatchesValid,title:"Export matches",type:"button",className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm leading-5 font-medium text-gray-500 hover:text-gray-400 focus:z-10 focus:outline-none focus:border-blue-300 focus:shadow-outline-blue active:bg-gray-100 active:text-gray-500 transition ease-in-out duration-150 disabled:text-gray-300 disabled:cursor-not-allowed"},t.createElement("svg",{fill:"currentColor",viewBox:"0 0 20 20",className:"w-5 h-5"},t.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))),t.createElement(f,{show:a,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"},t.createElement("div",{className:"origin-top-right absolute right-0 mt-2 -mr-1 w-40 rounded-md shadow-lg"},t.createElement("div",{className:"rounded-md bg-white shadow-xsleft"},t.createElement("button",{onClick:async()=>{const t=e.matches.map((e=>`${e.giver.name} gives to ${e.receiver.name}.`)).join("\n");await navigator.clipboard.writeText(t),l(!1)},disabled:0===e.matches.length,className:"w-full block px-4 py-2 text-sm leading-5 text-left text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900 disabled:cursor-not-allowed"},"Copy to clipboard"),t.createElement("button",{onClick:()=>{document.getElementById("csv-download").click()},disabled:0===e.matches.length,className:"w-full block px-4 py-2 text-sm leading-5 text-left text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900 disabled:cursor-not-allowed"},"Export to CSV"))))))))),t.createElement("div",{className:"px-4 py-5 sm:p-6"},t.createElement("div",null,t.createElement(o,{display:"Prevent Same Household",index:"preventSameHousehold",toggled:e.rules.preventSameHousehold,toggle:e.toggleRule})),e.areMatchesLoading?t.createElement("div",{className:"mt-6 h-full flex justify-center items-center"},t.createElement(p,null)):e.areMatchesValid?t.createElement("div",{className:"mt-6 flex flex-col"},t.createElement("div",{className:"-my-2 py-2 overflow-x-auto sm:-mx-6 sm:px-6 lg:-mx-8 lg:px-8"},t.createElement("div",{className:"align-middle inline-block min-w-full shadow overflow-hidden sm:rounded-lg border-b border-gray-200"},t.createElement("table",{className:"min-w-full"},t.createElement("thead",null,t.createElement("tr",null,t.createElement("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Giver"),t.createElement("th",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-xs leading-4 font-medium text-gray-500 uppercase tracking-wider"},"Receiver"))),t.createElement("tbody",null,e.matches.map((e=>t.createElement("tr",{key:e.giver.name,className:"bg-white"},t.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},e.giver.name),t.createElement("td",{className:"px-6 py-4 whitespace-no-wrap text-sm leading-5 text-gray-900"},e.receiver.name))))))))):t.createElement("div",{className:"mt-6 w-full text-sm"},t.createElement("div",{className:"rounded-md bg-red-50 p-4"},t.createElement("div",{className:"flex"},t.createElement("div",{className:"flex-shrink-0"},t.createElement("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},t.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),t.createElement("div",{className:"ml-3"},t.createElement("h3",{className:"text-sm leading-5 font-medium text-red-800"},function(e){switch(e){case"LowerThanMinimum":return"Add two or more people to get started!";case"GreaterThanMaximum":return"170 is the maximum amount of participants you can add.";case"NoMatch":return"No valid matching set could be generated with your inputs. Change something to try again!";default:return"Something went wrong. Try reloading the page or resetting the app."}}(e.errorKey))))))))}function x(){const a=t.useRef(!0),l=localStorage.getItem("state"),r=null!==l?JSON.parse(l):{people:[],matches:[],rules:{preventSameHousehold:!1},matchPermutation:0,areMatchesValid:!1,invalidMatchesError:"LowerThanMinimum"},[o,h]=t.useState(r.people),[p,f]=t.useState(r.rules),[x,b]=t.useState(r.matches),[y,E]=t.useState(r.matchPermutation),[w,N]=t.useState(!1),[k,M]=t.useState(r.areMatchesValid),[C,L]=t.useState(r.invalidMatchesError),R=()=>{if(a.current)a.current=!1;else{if(N(!0),o.length<2)b([]),M(!1),L("LowerThanMinimum");else if(o.length>170)b([]),M(!1),L("GreaterThanMaximum");else if(function(e,t){return g(u(e,t),e.length,e.length)===e.length}(o,p)){const e=i(o.length);let t=!1,a=[],l=0;do{l=s(e,[y]),a=d(l,o,p),t=c(a,o.length,p),o.length>2&&(t=t&&!m(x,a))}while(!t);a.sort(((e,t)=>e.giver.name.localeCompare(t.giver.name))),b(a),E(l),M(!0),L("")}else b([]),M(!1),L("NoMatch");N(!1)}};return t.useEffect((()=>{const e={people:o,matches:x,rules:p,matchPermutation:y,areMatchesValid:k,invalidMatchesError:C};localStorage.setItem("state",JSON.stringify(e))})),t.useLayoutEffect(R,[o,p]),t.createElement("div",{className:"px-4 py-5 sm:flex justify-center"},t.createElement("div",{className:"max-w-screen-xl"},t.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},t.createElement("div",{className:"px-4 py-5 sm:p-6 flex justify-between flex-row"},t.createElement("div",null,t.createElement("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl leading-9 "},"Gift Exchange")),t.createElement("div",null,t.createElement("a",{href:"https://github.com/itsthekeming/gift-exchange"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",viewBox:"0 0 24 24",className:"h-9 w-9"},t.createElement("title",null,"GitHub icon"),t.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))))),t.createElement("div",{className:"space-y-4 sm:py-4 sm:space-y-0 sm:space-x-4 sm:flex sm:flex-row"},t.createElement(n,{people:o,addPerson:e=>{e.name=e.name.trim(),e.household=e.household.trim();""!==e.name&&!o.some((t=>t.name===e.name))&&h([...o,e])},editPerson:(e,t)=>{t.name=t.name.trim(),t.household=t.household.trim();if(1===o.filter((t=>t.name===e)).length){const a=o.findIndex((t=>t.name===e));o.splice(a,1,t),h([...o])}},removePerson:e=>{const t=o.findIndex((t=>t.name===e));void 0!==o[t]&&(o.splice(t,1),h([...o]))},clearPeople:()=>{h([])}}),t.createElement(v,{rules:p,matches:x,areMatchesLoading:w,areMatchesValid:k,errorKey:C,toggleRule:t=>{p[t]=!p[t],f(e({},p))},refreshMatches:R}))))}l.render(t.createElement(t.StrictMode,null,t.createElement(x,null)),document.getElementById("root"));
