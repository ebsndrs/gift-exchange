{"version":3,"sources":["interfaces/Gender.tsx","components/Participant.tsx","components/Participants.tsx","services/MatchService.tsx","components/Match.tsx","App.tsx","index.tsx"],"names":["Gender","Participant","this","props","participant","name","React","Component","Participants","participants","map","item","MatchService","rules","enforceHouseholdRule","enforceAgeGroupRule","enforceGenderRule","enforceCircularGiftingRule","enforcePreviousYearsRule","simpleMatch","complexMatch","matches","potentialReceivers","i","length","receiverIndex","randomIndex","push","giver","receiver","splice","disallowedIndexes","household","gender","other","existingReceiverMatch","find","match","undefined","console","log","Math","ceil","random","floor","includes","Match","App","matchService","generateMatches","a","async","state","setState","toggleHouseholdRule","currentState","toggleCircularGiftingRule","toggleGenderRule","togglePreviousYearsRule","mockHouseholds","mockParticipants","dob","Date","male","exclusions","female","households","previousYears","previousYearsToEnforce","className","href","target","title","onClick","type","checked","getGender","enumObj","hasOwnProperty","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.29bee5f8.chunk.js","sourcesContent":["export enum Gender {\r\n  male,\r\n  female,\r\n  other\r\n}","import React from 'react';\r\nimport { ParticipantProps } from '../interfaces/props/ParticipantProps';\r\n\r\nexport default class Participant extends React.Component<ParticipantProps> {\r\n  render(): JSX.Element {\r\n    return(\r\n      <div>\r\n        {this.props.participant.name}\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { ParticipantsProps } from '../interfaces/props/ParticipantsProps';\r\nimport Participant from './Participant';\r\n\r\nexport default class Participants extends React.Component<ParticipantsProps> {\r\n  render(): JSX.Element {\r\n    return(\r\n      <div>\r\n        {this.props.participants.map(item => <Participant participant={item} />)}\r\n      </div>\r\n    );\r\n  }\r\n}","import { Participant } from \"../interfaces/Participant\";\r\nimport { Match } from \"../interfaces/Match\";\r\nimport { Rules } from \"../interfaces/Rules\";\r\nimport { Gender } from \"../interfaces/Gender\";\r\n\r\nexport default class MatchService {\r\n  async generateMatches(participants: Participant[], rules: Rules): Promise<Match[]> {\r\n    if (!rules.enforceHouseholdRule && !rules.enforceAgeGroupRule && !rules.enforceGenderRule && !rules.enforceCircularGiftingRule && !rules.enforcePreviousYearsRule) {\r\n      return this.simpleMatch(participants);\r\n    } else {\r\n      return this.complexMatch(participants, rules);\r\n    }\r\n  }\r\n\r\n  private simpleMatch(participants: Participant[]): Match[] {\r\n    let matches: Match[] = [];\r\n    let potentialReceivers = [...participants];\r\n\r\n    for (let i = 0; i < participants.length; i++) {\r\n      let receiverIndex = this.randomIndex(potentialReceivers.length);\r\n\r\n      while (receiverIndex === i) {\r\n        receiverIndex = this.randomIndex(potentialReceivers.length);\r\n      }\r\n\r\n      matches.push({ giver: participants[i], receiver: potentialReceivers[receiverIndex]});\r\n      potentialReceivers.splice(receiverIndex, 1);\r\n    }\r\n\r\n    return matches;\r\n  }\r\n\r\n  private complexMatch(participants: Participant[], rules: Rules): Match[] {\r\n    let matches: Match[] = [];\r\n    let potentialReceivers = [...participants];\r\n\r\n    for (let i = 0; i < participants.length; i++) {\r\n      let disallowedIndexes: number[] = [];\r\n      disallowedIndexes.push(i);\r\n\r\n      let receiverIndex = this.randomIndex(potentialReceivers.length, disallowedIndexes);\r\n\r\n      if (rules.enforceHouseholdRule) {\r\n        while (participants[i].household === potentialReceivers[receiverIndex].household && disallowedIndexes.length < potentialReceivers.length) {\r\n          disallowedIndexes.push(receiverIndex);\r\n          receiverIndex = this.randomIndex(potentialReceivers.length, disallowedIndexes);\r\n        }\r\n      }\r\n\r\n      if (rules.enforceAgeGroupRule) {\r\n        //enforce age group rule here\r\n      }\r\n\r\n      if (rules.enforceGenderRule) {\r\n        if (participants[i].gender !== Gender.other) {\r\n          while (participants[i].gender === potentialReceivers[receiverIndex].gender && disallowedIndexes.length < potentialReceivers.length) {\r\n            disallowedIndexes.push(receiverIndex);\r\n            receiverIndex = this.randomIndex(potentialReceivers.length, disallowedIndexes);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (rules.enforceCircularGiftingRule) {\r\n        const existingReceiverMatch = matches.find(match => match.giver === potentialReceivers[receiverIndex]);\r\n\r\n        if (existingReceiverMatch !== undefined && existingReceiverMatch.receiver === participants[i] && disallowedIndexes.length < potentialReceivers.length) {\r\n          disallowedIndexes.push(receiverIndex);\r\n          receiverIndex = this.randomIndex(potentialReceivers.length, disallowedIndexes);\r\n        }\r\n      }\r\n\r\n      if (rules.enforcePreviousYearsRule) {\r\n        //enforce previous years rule here\r\n      }\r\n\r\n      if (disallowedIndexes.length > potentialReceivers.length) {\r\n        console.log(\"Match is impossible with supplied rules\");\r\n        return [];\r\n      }\r\n\r\n      matches.push({ giver: participants[i], receiver: potentialReceivers[receiverIndex]});\r\n      potentialReceivers.splice(receiverIndex, 1);\r\n    }\r\n\r\n    return matches;\r\n  }\r\n\r\n  private randomIndex(length: number, disallowedIndexes?: number[]): number {\r\n    length = Math.ceil(length);\r\n    let random = Math.floor(Math.random() * length);\r\n    \r\n    if (disallowedIndexes !== undefined) {\r\n      while (disallowedIndexes.includes(random)) {\r\n        random = Math.floor(Math.random() * length)\r\n      }\r\n    }\r\n\r\n    return random;\r\n  }\r\n}","import React from 'react';\r\nimport { MatchProps } from '../interfaces/props/MatchProps';\r\n\r\nexport default class Match extends React.Component<MatchProps> {\r\n  render(): JSX.Element {\r\n    return(\r\n      <div>\r\n        <p>{this.props.match.giver.name} gives to {this.props.match.receiver?.name}</p>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport 'bulma';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport './App.css';\r\nimport { AppState } from './interfaces/states/AppState';\r\nimport { Participant } from './interfaces/Participant';\r\nimport { Gender } from './interfaces/Gender';\r\nimport Participants from './components/Participants';\r\nimport MatchService from './services/MatchService';\r\nimport Match from './components/Match';\r\n\r\nexport default class App extends React.Component<any, AppState> {\r\n  matchService: MatchService;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.matchService = new MatchService();\r\n\r\n    const mockHouseholds: string[] = [\r\n      \"Household 1\",\r\n      \"Household 2\",\r\n      \"Household 3\"\r\n    ];\r\n\r\n    const mockParticipants: Participant[] = [\r\n      {\r\n        name: \"Person 1\",\r\n        dob: new Date(1930, 8, 11),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 2\",\r\n        dob: new Date(1950, 9, 27),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 3\",\r\n        dob: new Date(1958, 10, 25),\r\n        gender: Gender.female,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 4\",\r\n        dob: new Date(1973, 12, 13),\r\n        gender: Gender.other,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 5\",\r\n        dob: new  Date(1986, 7, 26),\r\n        gender:  Gender.female,\r\n        household: mockHouseholds[2],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 6\",\r\n        dob: new Date(1987, 3, 11),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 7\",\r\n        dob: new Date(2001, 1, 19),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 8\",\r\n        dob: new Date(2005, 11, 23),\r\n        gender: Gender.female,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 9\",\r\n        dob: new Date(2011, 3, 31),\r\n        gender: Gender.female,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 10\",\r\n        dob: new Date(2016, 10, 1),\r\n        gender: Gender.other,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      }\r\n    ];\r\n\r\n    this.state = {\r\n      participants: mockParticipants,\r\n      households: mockHouseholds,\r\n      matches: [],\r\n      previousYears: [],\r\n      rules: {\r\n        enforceHouseholdRule: false,\r\n        enforceAgeGroupRule: false,\r\n        enforceGenderRule: false,\r\n        enforceCircularGiftingRule: false,\r\n        enforcePreviousYearsRule: false,\r\n        previousYearsToEnforce: 3\r\n      }\r\n    };\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    return(\r\n      <div className=\"App\">\r\n        <section className=\"hero is-dark\">\r\n          <div className=\"hero-body\">\r\n            <nav className=\"level\">\r\n              <div className=\"level-left\">\r\n                <div className=\"level-item\">\r\n                  <h1 className=\"title\">Secret Santa</h1>\r\n                </div>\r\n              </div>\r\n              <div className=\"level-right\">\r\n                <div className=\"level-item\">\r\n                  <span className=\"icon is-large\">\r\n                    <a href=\"https://github.com/ebsndrs/secret-santa\" target=\"_blank\" className=\"github-link\">\r\n                      <i className=\"fab fa-2x fa-github\"></i>\r\n                    </a>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n        </section>\r\n        <section className=\"section\">\r\n          <div className=\"columns\">\r\n            <div className=\"column\">\r\n              <div className=\"panel\">\r\n                <p className=\"panel-heading\">Rules</p>\r\n                <div className=\"panel-block\">\r\n                  <div className=\"container\">\r\n                    <div className=\"level\">\r\n                      <div className=\"level-left\">\r\n                        <div className=\"level-item\">\r\n                          <h5 className=\"title is-5\">Prevent Household Matches <sup className=\"tooltip\"><span title=\"This rule prevents matches from occuring within the same household. Enabling ensures givers will only give to those outside of their household.\" className=\"icon is-small\"><i className=\"far fa-question-circle\"></i></span></sup></h5>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"level-right\">\r\n                        <div className=\"level-item\">\r\n                          <button className=\"button is-white is-rounded\" onClick={this.toggleHouseholdRule}>\r\n                            <span className=\"icon is-medium\">\r\n                              <i className={this.state.rules.enforceHouseholdRule ? \"far fa-2x fa-check-circle has-text-success\" : \"far fa-2x fa-times-circle has-text-danger\"}></i>\r\n                            </span>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"level\">\r\n                      <div className=\"level-left\">\r\n                        <div className=\"level-item\">\r\n                          <div className=\"content\">\r\n                            <h5 className=\"title is-5\">Prevent Circular Matches <sup className=\"tooltip\"><span title=\"This rule prevents participants from having a circular gift exchange, where a giver and receiver are giving and receiver from each other. Enabling this rule ensures nobody will give to the person from which they receive, and vice versa.\" className=\"icon is-small\"><i className=\"far fa-question-circle\"></i></span></sup></h5>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"level-right\">\r\n                        <div className=\"level-item\">\r\n                          <button className=\"button is-white is-rounded\" onClick={this.toggleCircularGiftingRule}>\r\n                            <span className=\"icon is-medium\">\r\n                              <i className={this.state.rules.enforceCircularGiftingRule ? \"far fa-2x fa-check-circle has-text-success\" : \"far fa-2x fa-times-circle has-text-danger\"}></i>\r\n                            </span>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"level\">\r\n                      <div className=\"level-left\">\r\n                        <div className=\"level-item\">\r\n                          <h5 className=\"title is-5\">Prevent Same Gender Matches <sup className=\"tooltip\"><span title=\"This rule prevents matches from occuring between genders. This only prevents those with their gender defined as male or female from giving to each other; those with the 'other' gender are not affected\" className=\"icon is-small\"><i className=\"far fa-question-circle\"></i></span></sup></h5>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"level-right\">\r\n                        <div className=\"level-item\">\r\n                          <button className=\"button is-white is-rounded\" onClick={this.toggleGenderRule}>\r\n                            <span className=\"icon is-medium\">\r\n                              <i className={this.state.rules.enforceGenderRule ? \"far fa-2x fa-check-circle has-text-success\" : \"far fa-2x fa-times-circle has-text-danger\"}></i>\r\n                            </span>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"column\">\r\n              <div className=\"panel\">\r\n                <p className=\"panel-heading\">Participants</p>\r\n                <div className=\"panel-block\">\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"column\">\r\n              <div className=\"panel\">\r\n                <p className=\"panel-heading\">Matches</p>\r\n                <div className=\"panel-block\">\r\n\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n          <div>\r\n            <h1 className=\"title\">Rules</h1>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.rules.enforceHouseholdRule} onClick={this.toggleHouseholdRule} />\r\n                Household Rule\r\n              </label>\r\n            </div>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.rules.enforceCircularGiftingRule} onClick={this.toggleCircularGiftingRule} />\r\n                Circular Gifting Rule\r\n              </label>\r\n            </div>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.rules.enforceGenderRule} onClick={this.toggleGenderRule} />\r\n                Gender Rule\r\n              </label>\r\n            </div>\r\n            {/* <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.rules.enforcePreviousYearsRule} onClick={this.togglePreviousYearsRule} />\r\n                Previous Years Rule\r\n              </label>\r\n            </div> */}\r\n          </div>\r\n          <div>\r\n            <h2 className=\"title\">Households</h2>\r\n            {this.state.households.map(item => <p>{item}</p>)}\r\n          </div>\r\n          <div>\r\n            <h2 className=\"title\">Participants</h2>\r\n            <table className=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Household</th>\r\n                  <th>Gender</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {\r\n                  this.state.participants.map(participant =>\r\n                    <tr>\r\n                      <td>{participant.name}</td>\r\n                      <td>{participant.household}</td>\r\n                      <td>{this.getGender(participant.gender)}</td>\r\n                    </tr>\r\n                  )\r\n                }\r\n              </tbody>\r\n            </table>\r\n            <Participants participants={this.state.participants} />\r\n          </div>\r\n        <button className=\"button\" onClick={this.generateMatches}>Generate Matches</button>\r\n        {this.state.matches.map(item => <Match match={item} />)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  generateMatches = async (): Promise<void> => {\r\n    let matches = await this.matchService.generateMatches(this.state.participants, this.state.rules);\r\n\r\n    this.setState({\r\n      matches: matches\r\n    });\r\n  }\r\n\r\n  toggleHouseholdRule  = (): void => {\r\n    const currentState = this.state;\r\n    currentState.rules.enforceHouseholdRule = !currentState.rules.enforceHouseholdRule;\r\n    this.setState({\r\n      rules: currentState.rules\r\n    });\r\n  }\r\n\r\n  toggleCircularGiftingRule = (): void => {\r\n    const currentState = this.state;\r\n    currentState.rules.enforceCircularGiftingRule = !currentState.rules.enforceCircularGiftingRule;\r\n    this.setState({\r\n      rules: currentState.rules\r\n    });\r\n  }\r\n\r\n  toggleGenderRule = (): void => {\r\n    const currentState = this.state;\r\n    currentState.rules.enforceGenderRule = !currentState.rules.enforceGenderRule;\r\n    this.setState({\r\n      rules: currentState.rules\r\n    });\r\n  }\r\n\r\n  togglePreviousYearsRule = (): void => {\r\n    const currentState = this.state;\r\n    currentState.rules.enforcePreviousYearsRule = !currentState.rules.enforcePreviousYearsRule;\r\n    this.setState({\r\n      rules: currentState.rules\r\n    });\r\n  }\r\n\r\n  getGender(enumObj: any): string | undefined {\r\n    for (let name in Gender) {\r\n        if ( Gender[name] === enumObj && Gender.hasOwnProperty(name) ) {\r\n            return name;\r\n        }\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}