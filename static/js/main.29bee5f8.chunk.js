(this["webpackJsonpsecret-santa"]=this["webpackJsonpsecret-santa"]||[]).push([[0],{10:function(e,a,t){e.exports=t(19)},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var l,n=t(0),r=t.n(n),s=t(9),c=t.n(s),i=t(6),o=t.n(i),u=t(1),m=t(2),h=t(4),d=t(3),f=t(5);t(16),t(17),t(18);!function(e){e[e.male=0]="male",e[e.female=1]="female",e[e.other=2]="other"}(l||(l={}));var v=function(e){function a(){return Object(u.a)(this,a),Object(h.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.participant.name)}}]),a}(r.a.Component),p=function(e){function a(){return Object(u.a)(this,a),Object(h.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.participants.map((function(e){return r.a.createElement(v,{participant:e})})))}}]),a}(r.a.Component),g=t(7),E=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,[{key:"generateMatches",value:function(e,a){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.enforceHouseholdRule||a.enforceAgeGroupRule||a.enforceGenderRule||a.enforceCircularGiftingRule||a.enforcePreviousYearsRule){t.next=4;break}return t.abrupt("return",this.simpleMatch(e));case 4:return t.abrupt("return",this.complexMatch(e,a));case 5:case"end":return t.stop()}}),null,this)}},{key:"simpleMatch",value:function(e){for(var a=[],t=Object(g.a)(e),l=0;l<e.length;l++){for(var n=this.randomIndex(t.length);n===l;)n=this.randomIndex(t.length);a.push({giver:e[l],receiver:t[n]}),t.splice(n,1)}return a}},{key:"complexMatch",value:function(e,a){for(var t=this,n=[],r=Object(g.a)(e),s=function(s){var c=[];c.push(s);var i=t.randomIndex(r.length,c);if(a.enforceHouseholdRule)for(;e[s].household===r[i].household&&c.length<r.length;)c.push(i),i=t.randomIndex(r.length,c);if(a.enforceAgeGroupRule,a.enforceGenderRule&&e[s].gender!==l.other)for(;e[s].gender===r[i].gender&&c.length<r.length;)c.push(i),i=t.randomIndex(r.length,c);if(a.enforceCircularGiftingRule){var o=n.find((function(e){return e.giver===r[i]}));void 0!==o&&o.receiver===e[s]&&c.length<r.length&&(c.push(i),i=t.randomIndex(r.length,c))}if(a.enforcePreviousYearsRule,c.length>r.length)return console.log("Match is impossible with supplied rules"),{v:[]};n.push({giver:e[s],receiver:r[i]}),r.splice(i,1)},c=0;c<e.length;c++){var i=s(c);if("object"===typeof i)return i.v}return n}},{key:"randomIndex",value:function(e,a){e=Math.ceil(e);var t=Math.floor(Math.random()*e);if(void 0!==a)for(;a.includes(t);)t=Math.floor(Math.random()*e);return t}}]),e}(),N=function(e){function a(){return Object(u.a)(this,a),Object(h.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e;return r.a.createElement("div",null,r.a.createElement("p",null,this.props.match.giver.name," gives to ",null===(e=this.props.match.receiver)||void 0===e?void 0:e.name))}}]),a}(r.a.Component),b=function(e){function a(e){var t;Object(u.a)(this,a),(t=Object(h.a)(this,Object(d.a)(a).call(this,e))).matchService=void 0,t.generateMatches=function(){var e;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o.a.awrap(t.matchService.generateMatches(t.state.participants,t.state.rules));case 2:e=a.sent,t.setState({matches:e});case 4:case"end":return a.stop()}}))},t.toggleHouseholdRule=function(){var e=t.state;e.rules.enforceHouseholdRule=!e.rules.enforceHouseholdRule,t.setState({rules:e.rules})},t.toggleCircularGiftingRule=function(){var e=t.state;e.rules.enforceCircularGiftingRule=!e.rules.enforceCircularGiftingRule,t.setState({rules:e.rules})},t.toggleGenderRule=function(){var e=t.state;e.rules.enforceGenderRule=!e.rules.enforceGenderRule,t.setState({rules:e.rules})},t.togglePreviousYearsRule=function(){var e=t.state;e.rules.enforcePreviousYearsRule=!e.rules.enforcePreviousYearsRule,t.setState({rules:e.rules})},t.matchService=new E;var n=["Household 1","Household 2","Household 3"],r=[{name:"Person 1",dob:new Date(1930,8,11),gender:l.male,household:n[0],exclusions:void 0},{name:"Person 2",dob:new Date(1950,9,27),gender:l.male,household:n[0],exclusions:void 0},{name:"Person 3",dob:new Date(1958,10,25),gender:l.female,household:n[0],exclusions:void 0},{name:"Person 4",dob:new Date(1973,12,13),gender:l.other,household:n[1],exclusions:void 0},{name:"Person 5",dob:new Date(1986,7,26),gender:l.female,household:n[2],exclusions:void 0},{name:"Person 6",dob:new Date(1987,3,11),gender:l.male,household:n[1],exclusions:void 0},{name:"Person 7",dob:new Date(2001,1,19),gender:l.male,household:n[1],exclusions:void 0},{name:"Person 8",dob:new Date(2005,11,23),gender:l.female,household:n[0],exclusions:void 0},{name:"Person 9",dob:new Date(2011,3,31),gender:l.female,household:n[1],exclusions:void 0},{name:"Person 10",dob:new Date(2016,10,1),gender:l.other,household:n[0],exclusions:void 0}];return t.state={participants:r,households:n,matches:[],previousYears:[],rules:{enforceHouseholdRule:!1,enforceAgeGroupRule:!1,enforceGenderRule:!1,enforceCircularGiftingRule:!1,enforcePreviousYearsRule:!1,previousYearsToEnforce:3}},t}return Object(f.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("section",{className:"hero is-dark"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("h1",{className:"title"},"Secret Santa"))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{className:"icon is-large"},r.a.createElement("a",{href:"https://github.com/ebsndrs/secret-santa",target:"_blank",className:"github-link"},r.a.createElement("i",{className:"fab fa-2x fa-github"})))))))),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"panel"},r.a.createElement("p",{className:"panel-heading"},"Rules"),r.a.createElement("div",{className:"panel-block"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("h5",{className:"title is-5"},"Prevent Household Matches ",r.a.createElement("sup",{className:"tooltip"},r.a.createElement("span",{title:"This rule prevents matches from occuring within the same household. Enabling ensures givers will only give to those outside of their household.",className:"icon is-small"},r.a.createElement("i",{className:"far fa-question-circle"})))))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-white is-rounded",onClick:this.toggleHouseholdRule},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:this.state.rules.enforceHouseholdRule?"far fa-2x fa-check-circle has-text-success":"far fa-2x fa-times-circle has-text-danger"})))))),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("div",{className:"content"},r.a.createElement("h5",{className:"title is-5"},"Prevent Circular Matches ",r.a.createElement("sup",{className:"tooltip"},r.a.createElement("span",{title:"This rule prevents participants from having a circular gift exchange, where a giver and receiver are giving and receiver from each other. Enabling this rule ensures nobody will give to the person from which they receive, and vice versa.",className:"icon is-small"},r.a.createElement("i",{className:"far fa-question-circle"}))))))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-white is-rounded",onClick:this.toggleCircularGiftingRule},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:this.state.rules.enforceCircularGiftingRule?"far fa-2x fa-check-circle has-text-success":"far fa-2x fa-times-circle has-text-danger"})))))),r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("h5",{className:"title is-5"},"Prevent Same Gender Matches ",r.a.createElement("sup",{className:"tooltip"},r.a.createElement("span",{title:"This rule prevents matches from occuring between genders. This only prevents those with their gender defined as male or female from giving to each other; those with the 'other' gender are not affected",className:"icon is-small"},r.a.createElement("i",{className:"far fa-question-circle"})))))),r.a.createElement("div",{className:"level-right"},r.a.createElement("div",{className:"level-item"},r.a.createElement("button",{className:"button is-white is-rounded",onClick:this.toggleGenderRule},r.a.createElement("span",{className:"icon is-medium"},r.a.createElement("i",{className:this.state.rules.enforceGenderRule?"far fa-2x fa-check-circle has-text-success":"far fa-2x fa-times-circle has-text-danger"})))))))))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"panel"},r.a.createElement("p",{className:"panel-heading"},"Participants"),r.a.createElement("div",{className:"panel-block"}))),r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"panel"},r.a.createElement("p",{className:"panel-heading"},"Matches"),r.a.createElement("div",{className:"panel-block"}))))),r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"Rules"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",checked:this.state.rules.enforceHouseholdRule,onClick:this.toggleHouseholdRule}),"Household Rule")),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",checked:this.state.rules.enforceCircularGiftingRule,onClick:this.toggleCircularGiftingRule}),"Circular Gifting Rule")),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",checked:this.state.rules.enforceGenderRule,onClick:this.toggleGenderRule}),"Gender Rule"))),r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},"Households"),this.state.households.map((function(e){return r.a.createElement("p",null,e)}))),r.a.createElement("div",null,r.a.createElement("h2",{className:"title"},"Participants"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Household"),r.a.createElement("th",null,"Gender"))),r.a.createElement("tbody",null,this.state.participants.map((function(a){return r.a.createElement("tr",null,r.a.createElement("td",null,a.name),r.a.createElement("td",null,a.household),r.a.createElement("td",null,e.getGender(a.gender)))})))),r.a.createElement(p,{participants:this.state.participants})),r.a.createElement("button",{className:"button",onClick:this.generateMatches},"Generate Matches"),this.state.matches.map((function(e){return r.a.createElement(N,{match:e})})))}},{key:"getGender",value:function(e){for(var a in l)if(l[a]===e&&l.hasOwnProperty(a))return a}}]),a}(r.a.Component);c.a.render(r.a.createElement(b,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.29bee5f8.chunk.js.map