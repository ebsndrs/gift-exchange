{"version":3,"sources":["interfaces/Gender.tsx","components/Participant.tsx","components/Participants.tsx","services/MatchService.tsx","components/Match.tsx","App.tsx","index.tsx"],"names":["Gender","Participant","this","props","participant","name","React","Component","Participants","participants","map","item","MatchService","generateMatchesWithNoRules","matches","alreadyReceivedIndexes","i","giverIndex","receiverIndex","randomInteger","length","receiverHasGiven","receiversGivingMatch","find","m","giver","givingToEachOther","includes","match","receiver","push","min","max","Math","floor","ceil","random","Match","App","matchService","generateMatches","state","setState","toggleHouseholdRule","currentState","isHouseholdRuleActive","toggleAgeGroupRule","isAgeGroupRuleActive","toggleGenderRule","isGenderRuleActive","togglePreviousYearsRule","isPreviousYearsRuleActive","mockHouseholds","mockParticipants","dob","Date","gender","male","household","exclusions","undefined","female","other","households","previousYears","previousYearsToMatchAgainst","className","type","checked","onClick","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01729a50.chunk.js","sourcesContent":["export enum Gender {\r\n  male,\r\n  female,\r\n  other\r\n}","import React from 'react';\r\nimport { ParticipantProps } from '../interfaces/props/ParticipantProps';\r\n\r\nexport default class Participant extends React.Component<ParticipantProps> {\r\n  render(): JSX.Element {\r\n    return(\r\n      <div>\r\n        {this.props.participant.name}\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport { ParticipantsProps } from '../interfaces/props/ParticipantsProps';\r\nimport Participant from './Participant';\r\n\r\nexport default class Participants extends React.Component<ParticipantsProps> {\r\n  render(): JSX.Element {\r\n    return(\r\n      <div>\r\n        {this.props.participants.map(item => <Participant participant={item} />)}\r\n      </div>\r\n    );\r\n  }\r\n}","import { Participant } from \"../interfaces/Participant\";\r\nimport { Match } from \"../interfaces/Match\";\r\n\r\nexport default class MatchService {\r\n  generateMatches(participants: Participant[]): Match[] {\r\n    let matches = this.generateMatchesWithNoRules(participants);\r\n\r\n    return matches;\r\n  }\r\n\r\n  private generateMatchesWithNoRules(participants: Participant[]): Match[] {\r\n    let matches: Match[] = [];\r\n    let alreadyReceivedIndexes: number[] = [];\r\n\r\n    for (let i = 0; i < participants.length; i++) {\r\n      let giverIndex = i;\r\n      let receiverIndex = this.randomInteger(0, participants.length - 1);\r\n\r\n      let receiverHasGiven = receiverIndex < giverIndex;\r\n      let receiversGivingMatch = matches.find(m => m.giver.name === participants[receiverIndex].name);\r\n      let givingToEachOther = receiverHasGiven && receiversGivingMatch?.giver.name === participants[giverIndex].name;\r\n\r\n      while (receiverIndex === giverIndex || alreadyReceivedIndexes.includes(receiverIndex) || givingToEachOther) {\r\n        receiverIndex = this.randomInteger(0, participants.length - 1);\r\n      }\r\n\r\n      let match: Match = {\r\n        giver: participants[giverIndex],\r\n        receiver: participants[receiverIndex]\r\n      };\r\n\r\n      matches.push(match);\r\n      alreadyReceivedIndexes.push(receiverIndex);\r\n    }\r\n\r\n    return matches;\r\n  }\r\n\r\n  private randomInteger(min: number, max: number): number {\r\n      min = Math.floor(0);\r\n      max = Math.ceil(max);\r\n      return Math.floor(Math.random() * (max - min + 1)) + min;\r\n  }\r\n}","import React from 'react';\r\nimport { MatchProps } from '../interfaces/props/MatchProps';\r\n\r\nexport default class Match extends React.Component<MatchProps> {\r\n  render(): JSX.Element {\r\n    return(\r\n      <div>\r\n        <p>{this.props.match.giver.name} gives to {this.props.match.receiver.name}</p>\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport 'bulma';\r\nimport './App.css';\r\nimport { AppState } from './interfaces/states/AppState';\r\nimport { Participant } from './interfaces/Participant';\r\nimport { Gender } from './interfaces/Gender';\r\nimport Participants from './components/Participants';\r\nimport MatchService from './services/MatchService';\r\nimport Match from './components/Match';\r\n\r\nexport default class App extends React.Component<any, AppState> {\r\n  matchService: MatchService;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.matchService = new MatchService();\r\n\r\n    const mockHouseholds: string[] = [\r\n      \"Household 1\",\r\n      \"Household 2\",\r\n      \"Household 3\"\r\n    ];\r\n\r\n    const mockParticipants: Participant[] = [\r\n      {\r\n        name: \"Person 1\",\r\n        dob: new Date(1930, 8, 11),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 2\",\r\n        dob: new Date(1950, 9, 27),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 3\",\r\n        dob: new Date(1958, 10, 25),\r\n        gender: Gender.female,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 4\",\r\n        dob: new Date(1973, 12, 13),\r\n        gender: Gender.other,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 5\",\r\n        dob: new  Date(1986, 7, 26),\r\n        gender:  Gender.female,\r\n        household: mockHouseholds[2],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 6\",\r\n        dob: new Date(1987, 3, 11),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 7\",\r\n        dob: new Date(2001, 1, 19),\r\n        gender: Gender.male,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 8\",\r\n        dob: new Date(2005, 11, 23),\r\n        gender: Gender.female,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 9\",\r\n        dob: new Date(2011, 3, 31),\r\n        gender: Gender.female,\r\n        household: mockHouseholds[1],\r\n        exclusions: undefined\r\n      },\r\n      {\r\n        name: \"Person 10\",\r\n        dob: new Date(2016, 10, 1),\r\n        gender: Gender.other,\r\n        household: mockHouseholds[0],\r\n        exclusions: undefined\r\n      }\r\n    ];\r\n\r\n    this.state = {\r\n      participants: mockParticipants,\r\n      households: mockHouseholds,\r\n      matches: [],\r\n      previousYears: [],\r\n      isHouseholdRuleActive: false,\r\n      isGenderRuleActive: false,\r\n      isAgeGroupRuleActive: false,\r\n      isPreviousYearsRuleActive: false,\r\n      previousYearsToMatchAgainst: 0\r\n    };\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    return(\r\n      <div className=\"App\">\r\n        <div className=\"container\">\r\n          <h2 className=\"title\">Secret Santa</h2>\r\n          <div>\r\n            <h1 className=\"title\">Rules</h1>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.isHouseholdRuleActive} onClick={this.toggleHouseholdRule} />\r\n                Household Rule\r\n              </label>\r\n            </div>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.isAgeGroupRuleActive} onClick={this.toggleAgeGroupRule} />\r\n                Age Group Rule\r\n              </label>\r\n            </div>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.isGenderRuleActive} onClick={this.toggleGenderRule} />\r\n                Gender Rule\r\n              </label>\r\n            </div>\r\n            <div className=\"field\">\r\n              <label className=\"checkbox\">\r\n                <input type=\"checkbox\" checked={this.state.isPreviousYearsRuleActive} onClick={this.togglePreviousYearsRule} />\r\n                Previous Years Rule\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2 className=\"title\">Households</h2>\r\n            {this.state.households.map(item => <p>{item}</p>)}\r\n          </div>\r\n          <div>\r\n            <h2 className=\"title\">Participants</h2>\r\n            <Participants participants={this.state.participants} />\r\n          </div>\r\n        </div>\r\n        <button className=\"button\" onClick={this.generateMatches}>Generate Matches</button>\r\n        {this.state.matches.map(item => <Match match={item} />)}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  generateMatches = (): void => {\r\n    let matches = this.matchService.generateMatches(this.state.participants);\r\n\r\n    this.setState({\r\n      matches: matches\r\n    });\r\n  }\r\n\r\n  toggleHouseholdRule  = (): void => {\r\n    const currentState = this.state.isHouseholdRuleActive;\r\n    this.setState({\r\n      isHouseholdRuleActive: !currentState\r\n    });\r\n  }\r\n\r\n  toggleAgeGroupRule = (): void => {\r\n    const currentState = this.state.isAgeGroupRuleActive;\r\n    this.setState({\r\n      isAgeGroupRuleActive: !currentState\r\n    });\r\n  }\r\n\r\n  toggleGenderRule = (): void => {\r\n    const currentState = this.state.isGenderRuleActive;\r\n    this.setState({\r\n      isGenderRuleActive: !currentState\r\n    });\r\n  }\r\n\r\n  togglePreviousYearsRule = (): void => {\r\n    const currentState = this.state.isPreviousYearsRuleActive;\r\n    this.setState({\r\n      isPreviousYearsRuleActive: !currentState\r\n    });\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}